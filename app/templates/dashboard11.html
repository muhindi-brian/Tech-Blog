{% extends "base.html" %}

{% block content %}
    <div class="container">
        <h1>Dashboard</h1>
        <p>Welcome, {{ current_user.username }}!</p>
        <a href="{{ url_for('new_post') }}" class="btn btn-primary">Create New Post</a>
        <h2>Your Posts</h2>
        {% if posts %}
            <ul class="list-group">
                {% for post in posts %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <a href="{{ url_for('post', slug=post[3]) }}">{{ post[1] }}</a>
                        <span class="badge bg-secondary">{{ post[5] }}</span>
                        <div>
                            <a href="{{ url_for('edit_post', slug=post[3]) }}" class="btn btn-warning btn-sm">Edit</a>
                            <a href="{{ url_for('delete_post', slug=post[3]) }}" class="btn btn-danger btn-sm ms-2">Delete</a>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No posts available.</p>
        {% endif %}
    </div>
{% endblock %}
